{"version":3,"sources":["images/header__logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmationPopup.js","components/App.js","index.js"],"names":["Header","className","src","headerLogo","alt","CurrentUserContext","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","aria-label","onClick","onCardDelete","link","name","onCardClick","onCardLike","length","Main","onEditAvatar","avatar","about","onEditProfile","onAddPlace","cards","map","Footer","ImagePopup","isOpen","onClose","options","this","_url","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_onError","data","method","body","JSON","stringify","id","authorization","PopupWithForm","onSubmit","noValidate","title","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","required","minLength","maxLength","value","onChange","target","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setTitle","image","setImage","ConfirmationPopup","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","isImagePopupOpen","setImagePopupOpen","setCurrentUser","setCards","closeAllPopups","api","getUserInfo","userData","catch","err","console","log","getInitialCards","Provider","deleteLike","newCard","state","c","putLike","deleteCard","filter","user","updateUserInfo","addNewCard","updateAvatar","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5ca52130.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header__logo.b8ac1065.svg\";","import headerLogo from '../images/header__logo.svg';\r\n\r\nfunction Header() {\r\n\treturn (\r\n\t\t<header className=\"header page__header\">\r\n\t\t\t<img\r\n\t\t\t\tclassName=\"header__logo\"\r\n\t\t\t\tsrc={headerLogo}\r\n\t\t\t\talt=\"Место Россия\"\r\n\t\t\t/>\r\n\t\t</header>\r\n\t);\r\n}\r\n\r\nexport default Header;","import { createContext } from \"react\";\r\n\r\nexport const CurrentUserContext = createContext();","import { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n  const cardDeleteButtonClassName = (\r\n    `place__delete-button ${isOwn ? 'place__delete-button_visible' : 'place__delete-button_hidden'}`\r\n  );\r\n\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n  const cardLikeButtonClassName = (\r\n    `place__like-button ${isLiked ? 'place__like-button_active' : ''}`\r\n  );\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"place\">\r\n      <button\r\n        type=\"button\"\r\n        className={cardDeleteButtonClassName}\r\n        aria-label=\"Удалить\"\r\n        onClick={handleCardDelete}\r\n      ></button>\r\n      <img\r\n        src={props.card.link}\r\n        alt={props.card.name}\r\n        className=\"place__image\"\r\n        onClick={handleClick}\r\n      />\r\n      <div className=\"place__description\">\r\n        <h3 className=\"place__title\">{props.card.name}</h3>\r\n        <div className=\"place__like\">\r\n          <button\r\n            type=\"button\"\r\n            className={cardLikeButtonClassName}\r\n            aria-label=\"Понравилось\"\r\n            onClick={handleLikeClick}\r\n          ></button>\r\n          <span className=\"place__like-counter\">{props.card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;","import { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport Card from './Card.js';\r\n\r\nfunction Main(props) {\r\n\tconst currentUser = useContext(CurrentUserContext);\r\n\r\n\treturn (\r\n\t\t<main className=\"content\">\r\n\t\t\t<section className=\"profile content__profile\">\r\n\t\t\t\t<div className=\"profile__container\">\r\n\t\t\t\t\t<div className=\"profile__avatar-area\" onClick={props.onEditAvatar}>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"profile__avatar\"\r\n\t\t\t\t\t\t\tsrc={currentUser.avatar}\r\n\t\t\t\t\t\t\talt=\"Фотография профиля.\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"profile__info\">\r\n\t\t\t\t\t\t<h1 className=\"profile__title\">{currentUser.name}</h1>\r\n\t\t\t\t\t\t<p className=\"profile__subtitle\">{currentUser.about}</p>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"profile__edit-button\"\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\taria-label=\"Редактировать профиль\"\r\n\t\t\t\t\t\t\tonClick={props.onEditProfile}\r\n\t\t\t\t\t\t></button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclassName=\"profile__add-button\"\r\n\t\t\t\t\taria-label=\"Добавить публикацию\"\r\n\t\t\t\t\tonClick={props.onAddPlace}\r\n\t\t\t\t></button>\r\n\t\t\t</section>\r\n\t\t\t<section className=\"places content__places\">\r\n\t\t\t\t<ul className=\"places__list\">\r\n\t\t\t\t\t{props.cards.map(card => (<Card\r\n\t\t\t\t\t\tkey={card._id}\r\n\t\t\t\t\t\tcard={card}\r\n\t\t\t\t\t\tonCardClick={props.onCardClick}\r\n\t\t\t\t\t\tonCardLike={props.onCardLike}\r\n\t\t\t\t\t\tonCardDelete={props.onCardDelete} />)\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ul>\r\n\t\t\t</section>\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n  return (\r\n    <footer className=\"footer page__footer\">\r\n      <p className=\"footer__copy\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","function ImagePopup(props) {\r\n\treturn (\r\n\t\t<div className={`popup figure-popup ${props.isOpen && 'popup_opened'}`}>\r\n\t\t\t<figure className=\"popup__figure\">\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"popup__close-button popup__close-button_position_diagonally\"\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\taria-label=\"Закрыть форму\"\r\n\t\t\t\t\tonClick={props.onClose}\r\n\t\t\t\t></button>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={props.card.link}\r\n\t\t\t\t\talt={props.card.name}\r\n\t\t\t\t\tclassName=\"popup__image\"\r\n\t\t\t\t/>\r\n\t\t\t\t<figcaption className=\"popup__description\">{props.card.name}</figcaption>\r\n\t\t\t</figure>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n  constructor(options) {\r\n    this._url = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  _onError(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}users/me`, {\r\n      headers: this._headers,\r\n    }).then(this._onError);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}cards`, {\r\n      headers: this._headers,\r\n    }).then(this._onError);\r\n  }\r\n\r\n  updateAvatar(data) {\r\n    return fetch(`${this._url}users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar,\r\n      }),\r\n    }).then(this._onError);\r\n  }\r\n\r\n  updateUserInfo(data) {\r\n    return fetch(`${this._url}users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      }),\r\n    }).then(this._onError);\r\n  }\r\n\r\n  addNewCard(data) {\r\n    return fetch(`${this._url}cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link,\r\n      }),\r\n    }).then(this._onError);\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._url}cards/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._onError);\r\n  }\r\n\r\n  putLike(id) {\r\n    return fetch(`${this._url}cards/likes/${id}`, {\r\n      method: \"PUT\",\r\n      headers: this._headers,\r\n    }).then(this._onError);\r\n  }\r\n\r\n  deleteLike(id) {\r\n    return fetch(`${this._url}cards/likes/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._onError);\r\n  }\r\n}\r\n\r\nexport default new Api({\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-20/\",\r\n  headers: {\r\n    \"content-type\": \"application/json\",\r\n    authorization: \"0949ddb6-de07-424c-aec4-470c89dc006f\",\r\n  },\r\n});","function PopupWithForm(props) {\r\n  return (\r\n    <div className={`popup ${props.name} ${props.isOpen && 'popup_opened'}`}>\r\n      <form className=\"popup__container\" name={`${props.name}`} onSubmit={props.onSubmit} noValidate>\r\n        <button\r\n          className=\"popup__close-button popup__close-button_position_diagonally\"\r\n          type=\"button\"\r\n          aria-label=\"Закрыть форму\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <h2 className=\"popup__heading\">\r\n          {props.title}\r\n        </h2>\r\n        {props.children}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import { useContext, useEffect, useState } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Редактировать профиль\"\r\n      name=\"popup_edit\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset className=\"popup__info\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"input-text input-text_type_name popup__name\"\r\n          placeholder=\"Имя\"\r\n          name=\"name\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          value={name || ''}\r\n          onChange={handleNameChange}\r\n        />\r\n        <span id=\"name-error\" className=\"popup__error\"></span>\r\n        <input\r\n          type=\"text\"\r\n          className=\"input-text input-text_type_job popup__job\"\r\n          placeholder=\"О себе\"\r\n          name=\"about\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          value={description || ''}\r\n          onChange={handleDescriptionChange}\r\n        />\r\n        <span id=\"about-error\" className=\"popup__error\"></span>\r\n      </fieldset>\r\n      <button className=\"popup__save-button\" type=\"submit\">Сохранить</button>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import { useRef } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Обновить аватар\"\r\n      name=\"popup_update\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset className=\"popup__info\">\r\n        <input\r\n          type=\"url\"\r\n          className=\"input-text input-text_type_link popup__link\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          name=\"avatar-link\"\r\n          required\r\n          ref={avatarRef}\r\n        />\r\n        <span id=\"avatar-link-error\" className=\"popup__error\"></span>\r\n      </fieldset>\r\n      <button\r\n        className=\"popup__save-button popup__save-button_update\"\r\n        type=\"submit\"\r\n      >\r\n        Сохранить\r\n  </button>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import { useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [title, setTitle] = useState('');\r\n  const [image, setImage] = useState('');\r\n\r\n  function handleTitleAdd(e) {\r\n    setTitle(e.target.value);\r\n  }\r\n\r\n  function handleImageAdd(e) {\r\n    setImage(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onAddPlace({\r\n      name: title,\r\n      link: image\r\n    });\r\n\r\n    setTitle('');\r\n    setImage('');\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Новое место\"\r\n      name=\"popup_add\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset className=\"popup__info\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"input-text input-text_type_heading popup__name\"\r\n          placeholder=\"Название\"\r\n          name=\"place-name\"\r\n          required\r\n          minLength=\"1\"\r\n          maxLength=\"30\"\r\n          value={title}\r\n          onChange={handleTitleAdd}\r\n        />\r\n        <span id=\"place-name-error\" className=\"popup__error\"></span>\r\n        <input\r\n          type=\"url\"\r\n          className=\"input-text input-text_type_link popup__link\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          name=\"link\"\r\n          required\r\n          value={image}\r\n          onChange={handleImageAdd}\r\n        />\r\n        <span id=\"link-error\" className=\"popup__error\"></span>\r\n      </fieldset>\r\n      <button className=\"popup__save-button\" type=\"submit\">Создать</button>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction ConfirmationPopup() {\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Вы уверены?\"\r\n      name=\"popup_confirm\"\r\n    >\r\n      <button\r\n        className=\"popup__save-button popup__save-button_confirm\"\r\n        type=\"submit\"\r\n      >\r\n        Да\r\n  </button>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default ConfirmationPopup;","import Header from './Header.js';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer.js';\r\nimport ImagePopup from './ImagePopup.js'\r\nimport { useEffect, useState } from 'react';\r\nimport api from '../utils/api.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\nimport ConfirmationPopup from './ConfirmationPopup.js';\r\n\r\nfunction App() {\r\n\tconst [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n\tconst [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n\tconst [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n\tconst [selectedCard, setSelectedCard] = useState(null);\r\n\tconst [isImagePopupOpen, setImagePopupOpen] = useState(false);\r\n\r\n\tconst [currentUser, setCurrentUser] = useState({});\r\n\tconst [cards, setCards] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tapi\r\n\t\t\t.getUserInfo()\r\n\t\t\t.then((userData) => {\r\n\t\t\t\tsetCurrentUser(userData);\r\n\t\t\t})\r\n\t\t\t.catch(err => console.log(err));\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tapi\r\n\t\t\t.getInitialCards()\r\n\t\t\t.then(cards => setCards(cards))\r\n\t\t\t.catch(err => console.log(err));\r\n\t}, []);\r\n\r\n\tfunction handleEditProfileClick() {\r\n\t\tsetIsEditProfilePopupOpen(true);\r\n\t}\r\n\r\n\tfunction handleAddPlaceClick() {\r\n\t\tsetIsAddPlacePopupOpen(true);\r\n\t}\r\n\r\n\tfunction handleEditAvatarClick() {\r\n\t\tsetIsEditAvatarPopupOpen(true);\r\n\t}\r\n\r\n\tfunction handleCardClick(card) {\r\n\t\tsetImagePopupOpen(true);\r\n\t\tsetSelectedCard(card);\r\n\t}\r\n\r\n\tfunction handleUpdateUser(user) {\r\n\t\tapi\r\n\t\t\t.updateUserInfo(user)\r\n\t\t\t.then((userData) => {\r\n\t\t\t\tsetCurrentUser(userData);\r\n\t\t\t\tcloseAllPopups();\r\n\t\t\t})\r\n\t\t\t.catch(err => console.log(err));\r\n\t}\r\n\r\n\tfunction handleUpdateAvatar(user) {\r\n\t\tapi\r\n\t\t\t.updateAvatar(user)\r\n\t\t\t.then((userData) => {\r\n\t\t\t\tsetCurrentUser(userData);\r\n\t\t\t\tcloseAllPopups();\r\n\t\t\t})\r\n\t\t\t.catch(err => console.log(err));\r\n\t}\r\n\r\n\tfunction handleCardLike(card) {\r\n\t\tconst isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\t\tif (!isLiked) {\r\n\t\t\tapi\r\n\t\t\t\t.putLike(card._id, !isLiked)\r\n\t\t\t\t.then((newCard) => {\r\n\t\t\t\t\tsetCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => console.log(err));\r\n\t\t} else {\r\n\t\t\tapi\r\n\t\t\t\t.deleteLike(card._id, !isLiked)\r\n\t\t\t\t.then((newCard) => {\r\n\t\t\t\t\tsetCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => console.log(err));\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction handleCardDelete(card) {\r\n\t\tapi\r\n\t\t\t.deleteCard(card._id)\r\n\t\t\t.then(\r\n\t\t\t\tsetCards(() => cards.filter(c => c._id !== card._id)))\r\n\t\t\t.catch(err => console.log(err));\r\n\t}\r\n\r\n\tfunction handleAddPlaceSubmit(card) {\r\n\t\tapi\r\n\t\t\t.addNewCard(card)\r\n\t\t\t.then((newCard) => {\r\n\t\t\t\tsetCards([newCard, ...cards]);\r\n\t\t\t\tcloseAllPopups();\r\n\t\t\t})\r\n\t\t\t.catch(err => console.log(err));\r\n\t}\r\n\r\n\tfunction closeAllPopups() {\r\n\t\tsetIsEditProfilePopupOpen(false);\r\n\t\tsetIsAddPlacePopupOpen(false);\r\n\t\tsetIsEditAvatarPopupOpen(false);\r\n\t\tsetImagePopupOpen(false);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"App\">\r\n\t\t\t<CurrentUserContext.Provider value={currentUser}>\r\n\t\t\t\t<Header />\r\n\t\t\t\t<Main\r\n\t\t\t\t\tonEditProfile={handleEditProfileClick}\r\n\t\t\t\t\tonAddPlace={handleAddPlaceClick}\r\n\t\t\t\t\tonEditAvatar={handleEditAvatarClick}\r\n\t\t\t\t\tonCardClick={handleCardClick}\r\n\t\t\t\t\tonCardLike={handleCardLike}\r\n\t\t\t\t\tonCardDelete={handleCardDelete}\r\n\t\t\t\t\tcards={cards}\r\n\t\t\t\t/>\r\n\t\t\t\t<Footer />\r\n\r\n\t\t\t\t<EditProfilePopup\r\n\t\t\t\t\tisOpen={isEditProfilePopupOpen}\r\n\t\t\t\t\tonClose={closeAllPopups}\r\n\t\t\t\t\tonUpdateUser={handleUpdateUser}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<AddPlacePopup\r\n\t\t\t\t\tisOpen={isAddPlacePopupOpen}\r\n\t\t\t\t\tonClose={closeAllPopups}\r\n\t\t\t\t\tonAddPlace={handleAddPlaceSubmit}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<EditAvatarPopup\r\n\t\t\t\t\tisOpen={isEditAvatarPopupOpen}\r\n\t\t\t\t\tonClose={closeAllPopups}\r\n\t\t\t\t\tonUpdateAvatar={handleUpdateAvatar}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<ConfirmationPopup />\r\n\r\n\t\t\t\t<ImagePopup card={selectedCard || false} isOpen={isImagePopupOpen} onClose={closeAllPopups} />\r\n\t\t\t</CurrentUserContext.Provider>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}